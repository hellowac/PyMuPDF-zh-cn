<!doctype html>
<html class="no-js" lang="zh-CN">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<meta content="Artifex" name="author" />
<meta content="PyMuPDF 是一个高性能 Python 库，用于 PDF（及其他）文档的数据提取、分析、转换和操作。" name="description" />
<meta content="PDF Text Extraction, PDF Image Extraction, PDF Conversion, PDF Tables, PDF Splitting, PDF Creation, Pyodide, PyScript" name="keywords" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JZTN4VTL9M"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-JZTN4VTL9M');
    </script>
    <link rel="author" title="关于此文档" href="about.html" /><link rel="index" title="索引" href="genindex.html" /><link rel="search" title="搜索" href="search.html" /><link rel="next" title="Point" href="point.html" /><link rel="prev" title="Page" href="page.html" />

    <link rel="shortcut icon" href="_static/PyMuPDF.ico"/><!-- Generated with Sphinx 5.3.0 and Furo 2023.03.27 -->
        <title>Pixmap - PyMuPDF 1.25.4 文档</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">PyMuPDF 1.25.4 文档</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/sidebar-logo-dark.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/sidebar-logo-light.svg" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">PyMuPDF 1.25.4 文档</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="搜索" name="q" aria-label="搜索">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">关于/About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">功能比较</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html#about-performance">性能</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html#about-license">许可和版权</a></li>
<li class="toctree-l1"><a class="reference internal" href="pymupdf4llm/index.html">PyMuPDF4LLM</a></li>
<li class="toctree-l1"><a class="reference internal" href="pymupdf-pro.html">PyMuPDF Pro</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">用户指南/User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="the-basics.html">基础用法</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="rag.html">PyMuPDF、LLM 和 RAG</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">资源</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">教程/How to Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="how-to-open-a-file.html">打开文件</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-text.html">文本</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-images.html">图片</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-annotations.html">注释</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-drawing-and-graphics.html">绘图和图形</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-stories.html">故事</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-journalling.html">日记</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-multiprocessing.html">多进程</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-ocr.html">OCR - 光学字符识别</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-optional-content.html">可选内容支持</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-low-level-interfaces.html">低级接口</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipes-common-issues-and-their-solutions.html">常见问题及其解决方案</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API参考/API Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="module.html">命令行界面</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="classes.html">类</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="annot.html">Annot</a></li>
<li class="toctree-l2"><a class="reference internal" href="archive-class.html">Archive</a></li>
<li class="toctree-l2"><a class="reference internal" href="colorspace.html">Colorspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="displaylist.html">DisplayList</a></li>
<li class="toctree-l2"><a class="reference internal" href="document.html">Document</a></li>
<li class="toctree-l2"><a class="reference internal" href="document-writer-class.html">DocumentWriter</a></li>
<li class="toctree-l2"><a class="reference internal" href="font.html">Font</a></li>
<li class="toctree-l2"><a class="reference internal" href="identity.html">Identity</a></li>
<li class="toctree-l2"><a class="reference internal" href="irect.html">IRect</a></li>
<li class="toctree-l2"><a class="reference internal" href="link.html">Link</a></li>
<li class="toctree-l2"><a class="reference internal" href="linkdest.html">linkDest</a></li>
<li class="toctree-l2"><a class="reference internal" href="matrix.html">Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="outline.html">Outline</a></li>
<li class="toctree-l2"><a class="reference internal" href="page.html">Page</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Pixmap</a></li>
<li class="toctree-l2"><a class="reference internal" href="point.html">Point</a></li>
<li class="toctree-l2"><a class="reference internal" href="quad.html">Quad</a></li>
<li class="toctree-l2"><a class="reference internal" href="rect.html">Rect</a></li>
<li class="toctree-l2"><a class="reference internal" href="shape.html">Shape</a></li>
<li class="toctree-l2"><a class="reference internal" href="story-class.html">Story</a></li>
<li class="toctree-l2"><a class="reference internal" href="textpage.html">TextPage</a></li>
<li class="toctree-l2"><a class="reference internal" href="textwriter.html">TextWriter</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools.html">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="widget.html">Widget</a></li>
<li class="toctree-l2"><a class="reference internal" href="xml-class.html">Xml</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="algebra.html">几何对象的运算符代数</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="lowlevel.html">低级函数和类</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="functions.html">函数</a></li>
<li class="toctree-l2"><a class="reference internal" href="device.html">设备</a></li>
<li class="toctree-l2"><a class="reference internal" href="coop_low.html">协同工作: DisplayList 和 TextPage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">术语</a></li>
<li class="toctree-l1"><a class="reference internal" href="vars.html">常量和枚举</a></li>
<li class="toctree-l1"><a class="reference internal" href="colors.html">颜色数据库</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">其他/Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="app1.html">附录 1：文本提取详细信息</a></li>
<li class="toctree-l1"><a class="reference internal" href="app2.html">附录 2：嵌入式文件的注意事项</a></li>
<li class="toctree-l1"><a class="reference internal" href="app3.html">附录 3：各类技术信息</a></li>
<li class="toctree-l1"><a class="reference internal" href="app4.html">附录 4：性能比较方法</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">更新日志</a></li>
<li class="toctree-l1"><a class="reference internal" href="znames.html">已废弃名称</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div style="display:flex;justify-content:space-between;align-items: center;">
    <form class="sidebar-search-container top" method="get" action="search.html" role="search" style="width:75%">
      <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
      <input type="hidden" name="check_keywords" value="yes">
      <input type="hidden" name="area" value="default">
    </form>
</div>

<div style="display:flex;justify-content:space-between;align-items:center;margin-top:20px;">
    <div class="discordLink" style="display:flex;align-items:center;margin-top: -5px;">
        <a href="https://discord.gg/TSpYGBW4eq" id="findOnDiscord" target=_blank>Find <b>#pymupdf</b> on <b>Discord</b></a>
        <a href="https://discord.gg/TSpYGBW4eq" target=_blank>
            <div style="width:30px;height:30px;margin-left:5px;">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 127.14 96.36">
                    <defs>
                        <style>.discordLogoFill{fill:#5865f2;}</style>
                    </defs>
                    <g id="Discord_Logo" data-name="Discord Logo">
                        <path class="discordLogoFill" d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.7,77.7,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.25,105.25,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z"/>
                    </g>
                </svg>
            </div>
        </a>
    </div>

</div><section id="pixmap">
<span id="id1"></span><h1>Pixmap<a class="headerlink" href="#pixmap" title="此标题的永久链接">#</a></h1>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--1">中文</label><div class="tab-content docutils container">
<p>Pixmaps（”像素图”）是 MuPDF 渲染功能的核心对象。它们表示一组矩形像素。每个像素由一个字节数（”组件”）来定义其颜色，以及一个可选的 alpha 字节来定义其透明度。</p>
<p>在 PyMuPDF 中，有几种创建 pixmap 的方式。除第一种外，其他方法都可以作为重载构造函数来使用。Pixmap 可以通过以下方式创建：</p>
<ol class="arabic simple">
<li><p>从文档页面（方法：<a class="reference internal" href="page.html#Page.get_pixmap" title="Page.get_pixmap"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Page.get_pixmap()</span></code></a>）</p></li>
<li><p>空的，基于 <a class="reference internal" href="colorspace.html#colorspace"><span class="std std-ref">Colorspace</span></a> 和 <a class="reference internal" href="irect.html#irect"><span class="std std-ref">IRect</span></a> 信息</p></li>
<li><p>从文件</p></li>
<li><p>从内存图像</p></li>
<li><p>从纯像素的内存区域</p></li>
<li><p>从 PDF 文档中的图像</p></li>
<li><p>作为另一个 pixmap 的副本</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>上述第 3 和第 4 点支持多种图像格式作为输入。有关更多信息，请参见 <a class="reference internal" href="#imagefiles"><span class="std std-ref">支持的输入图片格式</span></a> 部分。</p>
</div>
<p>请查看 <a class="reference internal" href="faq.html#faq"><span class="std std-ref">FAQ</span></a> 部分，了解一些 pixmap 使用的示例。</p>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--2">英文</label><div class="tab-content docutils container">
<p>Pixmaps (“pixel maps”) are objects at the heart of MuPDF’s rendering capabilities. They represent plane rectangular sets of pixels. Each pixel is described by a number of bytes (“components”) defining its color, plus an optional alpha byte defining its transparency.</p>
<p>In PyMuPDF, there exist several ways to create a pixmap. Except the first one, all of them are available as overloaded constructors. A pixmap can be created …</p>
<ol class="arabic simple">
<li><p>from a document page (method <a class="reference internal" href="page.html#Page.get_pixmap" title="Page.get_pixmap"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Page.get_pixmap()</span></code></a>)</p></li>
<li><p>empty, based on <a class="reference internal" href="colorspace.html#colorspace"><span class="std std-ref">Colorspace</span></a> and <a class="reference internal" href="irect.html#irect"><span class="std std-ref">IRect</span></a> information</p></li>
<li><p>from a file</p></li>
<li><p>from an in-memory image</p></li>
<li><p>from a memory area of plain pixels</p></li>
<li><p>from an image inside a PDF document</p></li>
<li><p>as a copy of another pixmap</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>A number of image formats is supported as input for points 3. and 4. above. See section <a class="reference internal" href="#imagefiles"><span class="std std-ref">支持的输入图片格式</span></a>.</p>
</div>
<p>Have a look at the <a class="reference internal" href="faq.html#faq"><span class="std std-ref">FAQ</span></a> section to see some pixmap usage “at work”.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Method / Attribute</strong></p></th>
<th class="head"><p><strong>Short Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.clear_with" title="Pixmap.clear_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.clear_with()</span></code></a></p></td>
<td><p>clear parts of the pixmap</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.color_count" title="Pixmap.color_count"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.color_count()</span></code></a></p></td>
<td><p>determine used colors</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.color_topusage" title="Pixmap.color_topusage"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.color_topusage()</span></code></a></p></td>
<td><p>determine share of most used color</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.copy" title="Pixmap.copy"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.copy()</span></code></a></p></td>
<td><p>copy parts of another pixmap</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.gamma_with" title="Pixmap.gamma_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.gamma_with()</span></code></a></p></td>
<td><p>apply a gamma factor to the pixmap</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.invert_irect" title="Pixmap.invert_irect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.invert_irect()</span></code></a></p></td>
<td><p>invert the pixels of a given area</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.pdfocr_save" title="Pixmap.pdfocr_save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.pdfocr_save()</span></code></a></p></td>
<td><p>save the pixmap as an OCRed 1-page PDF</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.pdfocr_tobytes" title="Pixmap.pdfocr_tobytes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.pdfocr_tobytes()</span></code></a></p></td>
<td><p>save the pixmap as an OCRed 1-page PDF</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.pil_image" title="Pixmap.pil_image"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.pil_image()</span></code></a></p></td>
<td><p>create a Pillow Image</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.pil_save" title="Pixmap.pil_save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.pil_save()</span></code></a></p></td>
<td><p>save as a Pillow Image</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.pil_tobytes" title="Pixmap.pil_tobytes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.pil_tobytes()</span></code></a></p></td>
<td><p>write to <code class="xref any docutils literal notranslate"><span class="pre">bytes</span></code> as a Pillow Image</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.pixel" title="Pixmap.pixel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.pixel()</span></code></a></p></td>
<td><p>return the value of a pixel</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.save" title="Pixmap.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.save()</span></code></a></p></td>
<td><p>save the pixmap in a variety of formats</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.set_alpha" title="Pixmap.set_alpha"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.set_alpha()</span></code></a></p></td>
<td><p>set alpha values</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.set_dpi" title="Pixmap.set_dpi"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.set_dpi()</span></code></a></p></td>
<td><p>set the image resolution</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.set_origin" title="Pixmap.set_origin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.set_origin()</span></code></a></p></td>
<td><p>set pixmap x,y values</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.set_pixel" title="Pixmap.set_pixel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.set_pixel()</span></code></a></p></td>
<td><p>set color and alpha of a pixel</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.set_rect" title="Pixmap.set_rect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.set_rect()</span></code></a></p></td>
<td><p>set color and alpha of all pixels in a rectangle</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.shrink" title="Pixmap.shrink"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.shrink()</span></code></a></p></td>
<td><p>reduce size keeping proportions</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.tint_with" title="Pixmap.tint_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.tint_with()</span></code></a></p></td>
<td><p>tint the pixmap</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.tobytes" title="Pixmap.tobytes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.tobytes()</span></code></a></p></td>
<td><p>return a memory area in a variety of formats</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.warp" title="Pixmap.warp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.warp()</span></code></a></p></td>
<td><p>return a pixmap made from a quad inside</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.alpha" title="Pixmap.alpha"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.alpha</span></code></a></p></td>
<td><p>transparency indicator</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.colorspace" title="Pixmap.colorspace"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.colorspace</span></code></a></p></td>
<td><p>pixmap’s <a class="reference internal" href="colorspace.html#colorspace"><span class="std std-ref">Colorspace</span></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.digest" title="Pixmap.digest"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.digest</span></code></a></p></td>
<td><p>MD5 hashcode of the pixmap</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.height" title="Pixmap.height"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.height</span></code></a></p></td>
<td><p>pixmap height</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.interpolate" title="Pixmap.interpolate"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.interpolate</span></code></a></p></td>
<td><p>interpolation method indicator</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.is_monochrome" title="Pixmap.is_monochrome"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.is_monochrome</span></code></a></p></td>
<td><p>check if only black and white occur</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.is_unicolor" title="Pixmap.is_unicolor"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.is_unicolor</span></code></a></p></td>
<td><p>check if only one color occurs</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.irect" title="Pixmap.irect"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.irect</span></code></a></p></td>
<td><p><a class="reference internal" href="irect.html#irect"><span class="std std-ref">IRect</span></a> of the pixmap</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.n" title="Pixmap.n"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.n</span></code></a></p></td>
<td><p>bytes per pixel</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.samples_mv" title="Pixmap.samples_mv"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.samples_mv</span></code></a></p></td>
<td><p><code class="xref any docutils literal notranslate"><span class="pre">memoryview</span></code> of pixel area</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.samples_ptr" title="Pixmap.samples_ptr"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.samples_ptr</span></code></a></p></td>
<td><p>Python pointer to pixel area</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.samples" title="Pixmap.samples"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.samples</span></code></a></p></td>
<td><p><code class="xref any docutils literal notranslate"><span class="pre">bytes</span></code> copy of pixel area</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.size" title="Pixmap.size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.size</span></code></a></p></td>
<td><p>pixmap’s total length</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.stride" title="Pixmap.stride"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.stride</span></code></a></p></td>
<td><p>size of one image row</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.width" title="Pixmap.width"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.width</span></code></a></p></td>
<td><p>pixmap width</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.x" title="Pixmap.x"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.x</span></code></a></p></td>
<td><p>X-coordinate of top-left corner</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.xres" title="Pixmap.xres"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.xres</span></code></a></p></td>
<td><p>resolution in X-direction</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Pixmap.y" title="Pixmap.y"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.y</span></code></a></p></td>
<td><p>Y-coordinate of top-left corner</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#Pixmap.yres" title="Pixmap.yres"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.yres</span></code></a></p></td>
<td><p>resolution in Y-direction</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p><strong>Class API</strong></p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--1">中文</label><div class="tab-content docutils container">
<dl class="py class">
<dt class="sig sig-object py" id="Pixmap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Pixmap</span></span><a class="headerlink" href="#Pixmap" title="永久链接至目标">#</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="Pixmap.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorspace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">irect</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.__init__" title="永久链接至目标">#</a></dt>
<dd><p><strong>新建空 Pixmap：</strong> 创建一个大小和原点由矩形指定的空 Pixmap。因此，<em>irect.top_left</em> 表示 Pixmap 的左上角，其宽度和高度分别为 <em>irect.width</em> 和 <em>irect.height</em>。请注意，图像区域 <strong>未初始化</strong>，将包含无意义的数据 —— 使用例如 <a class="reference internal" href="#Pixmap.clear_with" title="Pixmap.clear_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clear_with()</span></code></a> 或 <a class="reference internal" href="#Pixmap.set_rect" title="Pixmap.set_rect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_rect()</span></code></a> 来确保图像内容有效。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>colorspace</strong> (<a class="reference internal" href="colorspace.html#colorspace"><span class="std std-ref">Colorspace</span></a>) – 颜色空间。</p></li>
<li><p><strong>irect</strong> (<em>irect_like</em>) – Pixmap 的位置和尺寸。</p></li>
<li><p><strong>alpha</strong> (<em>bool</em>) – 指定是否包含透明度字节。默认值为 <em>False</em>。</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorspace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id0" title="永久链接至目标">#</a></dt>
<dd><p><strong>复制并设置颜色空间：</strong> 复制 <em>source</em> Pixmap，并转换其颜色空间。任何颜色空间组合都是可以的，但源颜色空间不能是 <em>None</em>。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>colorspace</strong> (<a class="reference internal" href="colorspace.html#colorspace"><span class="std std-ref">Colorspace</span></a>) – 目标颜色空间。<strong>也可以是</strong> <em>None</em>。在这种情况下，将创建一个“掩膜” Pixmap：其 <a class="reference internal" href="#Pixmap.samples" title="Pixmap.samples"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.samples</span></code></a> 将仅包含源的 alpha 字节。</p></li>
<li><p><strong>source</strong> (<em>Pixmap</em>) – 源 Pixmap。</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id2">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id2" title="永久链接至目标">#</a></dt>
<dd><ul class="simple">
<li><p>从 v1.18.18 新增</p></li>
</ul>
<p><strong>复制并添加图像掩膜：</strong> 复制 <em>source</em> Pixmap，添加一个 alpha 通道，使用来自掩膜 Pixmap 的透明度数据。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<a class="reference internal" href="#pixmap"><span class="std std-ref">Pixmap</span></a>) – 没有 alpha 通道的 Pixmap。</p></li>
<li><p><strong>mask</strong> (<a class="reference internal" href="#pixmap"><span class="std std-ref">Pixmap</span></a>) – 掩膜 Pixmap。必须是灰度 Pixmap。</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id3">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">clip</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#id3" title="永久链接至目标">#</a></dt>
<dd><p><strong>复制并缩放：</strong> 复制 <em>source</em> Pixmap，缩放到新的宽度和高度 —— 图像将相应地拉伸或缩小。支持部分复制。源颜色空间可以是 <em>None</em>。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>Pixmap</em>) – 源 Pixmap。</p></li>
<li><p><strong>width</strong> (<em>float</em>) – 目标宽度。</p></li>
<li><p><strong>height</strong> (<em>float</em>) – 目标高度。</p></li>
<li><p><strong>clip</strong> (<em>irect_like</em>) – 限制结果 Pixmap 为此区域的 <strong>缩放</strong> 版本。</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>如果宽度或高度不代表整数（即 <code class="xref any docutils literal notranslate"><span class="pre">value.is_integer()</span> <span class="pre">!=</span> <span class="pre">True</span></code>），则结果 Pixmap <strong>将具有 alpha 通道</strong>。</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id4">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id4" title="永久链接至目标">#</a></dt>
<dd><p><strong>复制并添加或去除 alpha 通道：</strong> 复制 <em>source</em> 并添加或去除其 alpha 通道。如果 <em>alpha</em> 等于 <em>source.alpha</em>，则为相同的复制。如果添加了 alpha 通道，其值将设置为 255。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>Pixmap</em>) – 源 Pixmap。</p></li>
<li><p><strong>alpha</strong> (<em>bool</em>) – 目标是否具有 alpha 通道，如果源颜色空间是 <em>None</em>，则默认并且是强制的。</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>一个典型的用法是将颜色和透明度字节分离到不同的 Pixmap 中。某些应用程序需要这样做，例如 <em>wxPython</em> 中的 <em>wx.Bitmap.FromBufferAndAlpha()</em>：</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># &#39;pix&#39; 是 RGBA Pixmap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pixcolors</span> <span class="o">=</span> <span class="n">pymupdf</span><span class="o">.</span><span class="n">Pixmap</span><span class="p">(</span><span class="n">pix</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>    <span class="c1"># 提取 RGB 部分（去除 alpha）</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pixalpha</span> <span class="o">=</span> <span class="n">pymupdf</span><span class="o">.</span><span class="n">Pixmap</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">pix</span><span class="p">)</span>  <span class="c1"># 提取 alpha 部分</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bm</span> <span class="o">=</span> <span class="n">wx</span><span class="o">.</span><span class="n">Bitmap</span><span class="o">.</span><span class="n">FromBufferAndAlpha</span><span class="p">(</span><span class="n">pix</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">pix</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="n">pixcolors</span><span class="o">.</span><span class="n">samples</span><span class="p">,</span> <span class="n">pixalpha</span><span class="o">.</span><span class="n">samples</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id5">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id5" title="永久链接至目标">#</a></dt>
<dd><p><strong>来自文件：</strong> 从 <em>filename</em> 创建一个 Pixmap。所有属性都从输入中推断出来。生成的 Pixmap 的原点是 <em>(0, 0)</em>。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – 图像文件的路径。</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id6">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id6" title="永久链接至目标">#</a></dt>
<dd><p><strong>来自内存：</strong> 从内存区域创建一个 Pixmap。所有属性都从输入中推断出来。生成的 Pixmap 的原点是 <em>(0, 0)</em>。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>stream</strong> (<em>bytes</em><em>, </em><em>bytearray</em><em>, </em><em>BytesIO</em>) – <p>包含完整有效图像的内存数据。例如，可以使用 <em>stream = bytearray(open(‘image.file’, ‘rb’).read())</em> 创建。<em>bytes</em> 类型仅在 <strong>Python 3</strong> 中支持，因为在 Python 2 中 <em>bytes == str</em>，该方法将把流当作文件名处理。</p>
<p><em>版本 1.14.13 更改：</em> 现在也支持 <em>io.BytesIO</em>。</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id7">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorspace</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id7" title="永久链接至目标">#</a></dt>
<dd><p><strong>来自原始像素：</strong> 从 <em>samples</em> 创建一个 Pixmap。每个像素必须由一定数量的字节表示，具体由 <em>colorspace</em> 和 <em>alpha</em> 参数控制。生成的 Pixmap 的原点是 <em>(0, 0)</em>。此方法适用于当其他程序提供原始图像数据时 —— 参见 <a class="reference internal" href="faq.html#faq"><span class="std std-ref">FAQ</span></a>。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>colorspace</strong> (<a class="reference internal" href="colorspace.html#colorspace"><span class="std std-ref">Colorspace</span></a>) – 图像的颜色空间。</p></li>
<li><p><strong>width</strong> (<em>int</em>) – 图像宽度</p></li>
<li><p><strong>height</strong> (<em>int</em>) – 图像高度</p></li>
<li><p><strong>samples</strong> (<em>bytes</em><em>, </em><em>bytearray</em><em>, </em><em>BytesIO</em>) – <p>包含图像所有像素的区域。如果指定了 alpha，则必须包含 alpha 值。</p>
<p><em>版本 1.14.13 更改：</em> (1) 现在也可以使用 <em>io.BytesIO</em>。 (2) 数据现在 <strong>被复制</strong> 到 Pixmap，因此可以安全地删除或使其不可用。</p>
</p></li>
<li><p><strong>alpha</strong> (<em>bool</em>) – 是否包含透明度通道。</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<ol class="arabic simple">
<li><p>必须满足以下公式：<em>(colorspace.n + alpha) * width * height == len(samples)</em>。</p></li>
<li><p>从版本 1.14.13 开始，样本数据会被 <strong>复制</strong> 到 Pixmap。</p></li>
</ol>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id8">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xref</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id8" title="永久链接至目标">#</a></dt>
<dd><p><strong>来自 PDF 图像：</strong> 从 PDF <em>doc</em> 中的图像创建一个 Pixmap，该图像由其 <a class="reference internal" href="glossary.html#xref" title="xref"><code class="xref py py-data docutils literal notranslate"><span class="pre">xref</span></code></a> 标识。所有 Pixmap 属性由图像设置。查看 <a class="reference external" href="https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/extract-images/extract-from-pages.py">extract-from-pages.py</a> 和 <a class="reference external" href="https://github.com/pymupdf/PyMuPDF-Utilities/blob/master/examples/extract-images/extract-from-xref.py">extract-from-xref.py</a> ，了解如何使用它来恢复 PDF 中的所有图像。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>doc</strong> (<a class="reference internal" href="document.html#document"><span class="std std-ref">Document</span></a>) – 已打开的 <strong>PDF</strong> 文档。</p></li>
<li><p><strong>xref</strong> (<em>int</em>) – 图像对象的 <a class="reference internal" href="glossary.html#xref" title="xref"><code class="xref py py-data docutils literal notranslate"><span class="pre">xref</span></code></a>。例如，可以使用 <a class="reference internal" href="document.html#Document.get_page_images" title="Document.get_page_images"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Document.get_page_images()</span></code></a> 创建某一页面上所有图像的列表，该方法还会显示每个图像的 <a class="reference internal" href="glossary.html#xref" title="xref"><code class="xref py py-data docutils literal notranslate"><span class="pre">xref</span></code></a> 数字。</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.clear_with">
<span class="sig-name descname"><span class="pre">clear_with</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">irect</span></span></em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.clear_with" title="永久链接至目标">#</a></dt>
<dd><p>初始化样本区域。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>int</em>) – 如果指定，值范围为 0 到 255。每个像素的每个颜色字节将被设置为此值，如果存在 alpha，则设置为 255（非透明）。如果未指定，则所有字节（包括任何 alpha）将清除为 <em>0x00</em>。</p></li>
<li><p><strong>irect</strong> (<em>irect_like</em>) – 要清除的区域。如果省略，则清除整个 Pixmap。只有在指定了 <em>value</em> 时，才可以指定此区域。</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.tint_with">
<span class="sig-name descname"><span class="pre">tint_with</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">black</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">white</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.tint_with" title="永久链接至目标">#</a></dt>
<dd><p>通过将黑色和/或白色替换为给定的颜色来为 Pixmap 上色，颜色以 <strong>sRGB 整数</strong> 值表示。仅支持颜色空间 <a class="reference internal" href="vars.html#CS_GRAY" title="CS_GRAY"><code class="xref py py-data docutils literal notranslate"><span class="pre">CS_GRAY</span></code></a> 和 <a class="reference internal" href="vars.html#CS_RGB" title="CS_RGB"><code class="xref py py-data docutils literal notranslate"><span class="pre">CS_RGB</span></code></a>，其他颜色空间会发出警告并被忽略。</p>
<p>如果颜色空间是 <a class="reference internal" href="vars.html#CS_GRAY" title="CS_GRAY"><code class="xref py py-data docutils literal notranslate"><span class="pre">CS_GRAY</span></code></a>，将取平均值 <em>(red + green + blue)/3</em>。Pixmap 将就地更改。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>black</strong> (<em>int</em>) – 将黑色替换为此值。指定 0x000000 不会进行更改。</p></li>
<li><p><strong>white</strong> (<em>int</em>) – 将白色替换为此值。指定 0xFFFFFF 不会进行更改。</p></li>
</ul>
</dd>
</dl>
<p>示例：</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="xref any docutils literal notranslate"><span class="pre">tint_with(0x000000,</span> <span class="pre">0xFFFFFF)</span></code> 不做任何操作。</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">tint_with(0x00FF00,</span> <span class="pre">0xFFFFFF)</span></code> 将黑色更改为绿色，保持白色不变。</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">tint_with(0xFF0000,</span> <span class="pre">0x0000FF)</span></code> 将黑色更改为红色，白色更改为蓝色。</p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.gamma_with">
<span class="sig-name descname"><span class="pre">gamma_with</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.gamma_with" title="永久链接至目标">#</a></dt>
<dd><p>对 Pixmap 应用伽马因子，即调亮或调暗图像。颜色空间为 <em>None</em> 的 Pixmap 会发出警告并被忽略。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>gamma</strong> (<em>float</em>) – <em>gamma = 1.0</em> 不做任何改变，<em>gamma &lt; 1.0</em> 使图像变亮，<em>gamma &gt; 1.0</em> 使图像变暗。</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.shrink">
<span class="sig-name descname"><span class="pre">shrink</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.shrink" title="永久链接至目标">#</a></dt>
<dd><p>通过将宽度和高度都除以 2:sup:<code class="docutils literal notranslate"><span class="pre">n</span></code> 来缩小 Pixmap。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> (<em>int</em>) – 确定新的 Pixmap （样本）大小。例如，值为 2 时，将宽度和高度除以 4，结果大小为原始图像的 16<sup>th</sup>。值小于 1 会发出警告并被忽略。</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>使用此方法可以在保留比例的同时减小 Pixmap 的大小。Pixmap 会 “就地” 更改。如果要保留原始图像并具有更细粒度的选择，请使用上述相应的构造函数。</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.pixel">
<span class="sig-name descname"><span class="pre">pixel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.pixel" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 1.14.5 新增：</em> 返回位置 (x, y)（列，行）处像素的值。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>int</em>) – 像素的列号，必须在 <code class="xref any docutils literal notranslate"><span class="pre">range(pix.width)</span></code> 内。</p></li>
<li><p><strong>y</strong> (<em>int</em>) – 像素的行号，必须在 <code class="xref any docutils literal notranslate"><span class="pre">range(pix.height)</span></code> 内。</p></li>
</ul>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>包含颜色值的列表，可能还有 alpha 值。列表的长度和内容取决于 Pixmap 的颜色空间和是否存在 alpha。对于 RGBA Pixmap，返回的结果例如是 <em>[r, g, b, a]</em>。所有项都是 <code class="xref any docutils literal notranslate"><span class="pre">range(256)</span></code> 范围内的整数。</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.set_pixel">
<span class="sig-name descname"><span class="pre">set_pixel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.set_pixel" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 1.14.7 新增：</em> 操作位置 (x, y)（列，行）处的像素。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>int</em>) – 像素的列号，必须在 <code class="xref any docutils literal notranslate"><span class="pre">range(pix.width)</span></code> 内。</p></li>
<li><p><strong>y</strong> (<em>int</em>) – 像素的行号，必须在 <code class="xref any docutils literal notranslate"><span class="pre">range(pix.height)</span></code> 内。</p></li>
<li><p><strong>color</strong> (<em>sequence</em>) – 期望的像素值，作为一个整数序列，范围为 <code class="xref any docutils literal notranslate"><span class="pre">range(256)</span></code>。序列的长度必须与 <a class="reference internal" href="#Pixmap.n" title="Pixmap.n"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.n</span></code></a> 相等，包括任何 alpha 字节。</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.set_rect">
<span class="sig-name descname"><span class="pre">set_rect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">irect</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.set_rect" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 1.14.8 新增：</em> 将矩形区域的像素设置为某个值。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>irect</strong> (<em>irect_like</em>) – 要填充的矩形区域。实际区域是此参数与 <a class="reference internal" href="#Pixmap.irect" title="Pixmap.irect"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.irect</span></code></a> 的交集。如果交集为空（或参数无效），则不会进行更改。</p></li>
<li><p><strong>color</strong> (<em>sequence</em>) – 期望的值，作为一个整数序列，范围为 <code class="xref any docutils literal notranslate"><span class="pre">range(256)</span></code>。序列的长度必须与 <a class="reference internal" href="#Pixmap.n" title="Pixmap.n"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.n</span></code></a> 相等，包括任何 alpha 字节。</p></li>
</ul>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>如果矩形无效或与 <a class="reference internal" href="#Pixmap.irect" title="Pixmap.irect"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.irect</span></code></a> 的交集为空，则返回 <em>False</em>，否则返回 <em>True</em>。</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<ol class="arabic simple">
<li><p>此方法等价于对矩形中的每个像素执行 <a class="reference internal" href="#Pixmap.set_pixel" title="Pixmap.set_pixel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.set_pixel()</span></code></a>，但如果涉及的像素很多，显然 <strong>要快得多</strong>。</p></li>
<li><p>此方法可以像 <a class="reference internal" href="#Pixmap.clear_with" title="Pixmap.clear_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.clear_with()</span></code></a> 一样使用，用于使用某个颜色初始化 Pixmap，例如： <em>pix.set_rect(pix.irect, (255, 255, 0))</em> （RGB 示例，将整个 Pixmap 填充为黄色）。</p></li>
</ol>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.set_origin">
<span class="sig-name descname"><span class="pre">set_origin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.set_origin" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 1.17.7 新增：</em></p>
<p>设置 Pixmap 的左上角点的 x 和 y 坐标。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>int</em>) – x 坐标</p></li>
<li><p><strong>y</strong> (<em>int</em>) – y 坐标</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.set_dpi">
<span class="sig-name descname"><span class="pre">set_dpi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xres</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yres</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.set_dpi" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 1.16.17 新增：</em></p>
<p><em>版本 1.18.0 更改：</em> 保存为 PNG 图像时，这些值现在会被存储。</p>
<p>设置 x 和 y 方向的分辨率（dpi）。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xres</strong> (<em>int</em>) – x 方向的分辨率。</p></li>
<li><p><strong>yres</strong> (<em>int</em>) – y 方向的分辨率。</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.set_alpha">
<span class="sig-name descname"><span class="pre">set_alpha</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alphavalues</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">premultiply</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opaque</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.set_alpha" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 1.18.13 更改：</em></p>
<p>更改 alpha 值。Pixmap 必须具有 alpha 通道。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alphavalues</strong> (<em>bytes</em><em>,</em><em>bytearray</em><em>,</em><em>BytesIO</em>) – 新的 alpha 值。如果提供，则其长度必须至少为 <em>width * height</em> 。如果省略（<code class="xref any docutils literal notranslate"><span class="pre">None</span></code>），则所有 alpha 值设置为 255（无透明度）。<em>版本 1.14.13 更改：</em> 现在也接受 <em>io.BytesIO</em>。</p></li>
<li><p><strong>premultiply</strong> (<em>bool</em>) – <em>版本 1.18.13 新增：</em> 是否将颜色分量与 alpha 值预乘。</p></li>
<li><p><strong>opaque</strong> (<em>list</em><em>,</em><em>tuple</em>) – 忽略 alpha 值并将此颜色设置为完全透明。一个包含整数的序列，范围为 <code class="xref any docutils literal notranslate"><span class="pre">range(256)</span></code>，长度为 <a class="reference internal" href="#Pixmap.n" title="Pixmap.n"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.n</span></code></a>。默认值为 <em>None</em>。例如，RGB 的典型选择是 <code class="xref any docutils literal notranslate"><span class="pre">opaque=(255,</span> <span class="pre">255,</span> <span class="pre">255)</span></code> （白色）。</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.invert_irect">
<span class="sig-name descname"><span class="pre">invert_irect</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">irect</span></span></em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.invert_irect" title="永久链接至目标">#</a></dt>
<dd><p>反转 <a class="reference internal" href="irect.html#irect"><span class="std std-ref">IRect</span></a> <em>irect</em> 中所有像素的颜色。如果颜色空间是 <em>None</em>，则没有效果。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>irect</strong> (<em>irect_like</em>) – 要反转的区域。省略时，反转整个图像。</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">irect</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.copy" title="永久链接至目标">#</a></dt>
<dd><p>将 <em>source</em> Pixmap 的 <em>irect</em> 部分复制到此 Pixmap 的相应区域。两个 Pixmap 可以有不同的尺寸，并且每个 Pixmap 都可以具有 <a class="reference internal" href="vars.html#CS_GRAY" title="CS_GRAY"><code class="xref py py-data docutils literal notranslate"><span class="pre">CS_GRAY</span></code></a> 或 <a class="reference internal" href="vars.html#CS_RGB" title="CS_RGB"><code class="xref py py-data docutils literal notranslate"><span class="pre">CS_RGB</span></code></a> 颜色空间，但它们当前 <strong>必须</strong> 具有相同的 alpha 属性 <a class="footnote-reference brackets" href="#f4" id="id9" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a>。复制机制会自动调整源和目标之间的差异，具体如下：</p>
<ul class="simple">
<li><p>如果从 <a class="reference internal" href="vars.html#CS_GRAY" title="CS_GRAY"><code class="xref py py-data docutils literal notranslate"><span class="pre">CS_GRAY</span></code></a> 复制到 <a class="reference internal" href="vars.html#CS_RGB" title="CS_RGB"><code class="xref py py-data docutils literal notranslate"><span class="pre">CS_RGB</span></code></a>，则源的灰度值将填充到每个 RGB 组件字节中。</p></li>
<li><p>如果反向复制，则 <em>(r + g + b) / 3</em> 将作为目标的灰度值。</p></li>
</ul>
<p>在 <em>irect</em> 和目标 Pixmap 的矩形之间，首先会计算一个“交集”。这会考虑矩形坐标和当前的属性值 <a class="reference internal" href="#Pixmap.x" title="Pixmap.x"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.x</span></code></a> 和 <a class="reference internal" href="#Pixmap.y" title="Pixmap.y"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.y</span></code></a> （你可以通过 <a class="reference internal" href="#Pixmap.set_origin" title="Pixmap.set_origin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.set_origin()</span></code></a> 修改这些值）。然后，复制该交集的对应数据。如果交集为空，则不会发生任何操作。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<a class="reference internal" href="#pixmap"><span class="std std-ref">Pixmap</span></a>) – 源 Pixmap。</p></li>
<li><p><strong>irect</strong> (<em>irect_like</em>) – 要复制的区域。</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>示例：假设你有两个 Pixmap，<code class="xref any docutils literal notranslate"><span class="pre">pix1</span></code> 和 <code class="xref any docutils literal notranslate"><span class="pre">pix2</span></code>，并且你想将 <code class="xref any docutils literal notranslate"><span class="pre">pix2</span></code> 的右下角四分之一复制到 <code class="xref any docutils literal notranslate"><span class="pre">pix1</span></code>，使得它从 <code class="xref any docutils literal notranslate"><span class="pre">pix1</span></code> 的左上角开始。使用以下代码：</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># 防护：将 pix1 和 pix2 的左上角设置为 (0, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pix1</span><span class="o">.</span><span class="n">set_origin</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pix2</span><span class="o">.</span><span class="n">set_origin</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 计算 pix2 区域的左上角坐标</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pix2</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y1</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">pix2</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 将 pix2 的左上角移动到 (0, 0)，</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 使得待复制区域从这里开始：</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pix2</span><span class="o">.</span><span class="n">set_origin</span><span class="p">(</span><span class="o">-</span><span class="n">x1</span><span class="p">,</span> <span class="o">-</span><span class="n">y1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># 现在复制...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pix1</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">pix2</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">))</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/img-pixmapcopy.jpg"><img alt="_images/img-pixmapcopy.jpg" src="_images/img-pixmapcopy.jpg" style="width: 690.6px; height: 303.6px;" /></a>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jpg_quality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">95</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.save" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 1.22.0 更改：</em> 新增 <strong>直接支持 JPEG</strong> 图像。图像质量可以通过参数 “jpg_quality” 控制。</p>
<p>将 Pixmap 保存为图像文件。根据选择的输出，可能仅支持某些或所有颜色空间，并且可以选择不同的文件扩展名。请参见下表。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em><em>,</em><em>Path</em><em>,</em><em>file</em>) – 要保存的文件。可以作为字符串、<code class="docutils literal notranslate"><span class="pre">pathlib.Path</span></code> 或 Python 文件对象提供。在后两种情况下，文件名将从相应的对象中获取。文件名的扩展名决定了图像格式，可以通过 output 参数覆盖。</p></li>
<li><p><strong>output</strong> (<em>str</em>) – 所需的图像格式。默认值为文件名的扩展名。如果这两个值和文件扩展名不受支持，将引发异常。有关可能的值，请参见 <a class="reference internal" href="#pixmapoutput"><span class="std std-ref">支持的输出图片格式</span></a>。</p></li>
<li><p><strong>jpg_quality</strong> (<em>int</em>) – 所需的图像质量，默认值为 95。仅适用于 JPEG 图像，其他格式将忽略此值。此参数在质量与文件大小之间进行权衡。值为 98 时接近无损。较高的值不应提高质量。</p></li>
</ul>
</dd>
<dt class="field-even">抛出<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – 对于不支持的图像格式。</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.tobytes">
<span class="sig-name descname"><span class="pre">tobytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'png'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jpg_quality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">95</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.tobytes" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 1.14.5 新增：</em> 将 Pixmap 返回为指定格式的 <em>bytes</em> 内存对象 – 类似于 <a class="reference internal" href="#Pixmap.save" title="Pixmap.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a>。</p>
<p><em>版本 1.22.0 更改：</em> 新增 <strong>直接支持 JPEG</strong>。图像质量可以通过新参数 “jpg_quality” 影响。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output</strong> (<em>str</em>) – 所需的图像格式。默认值为 “png”。有关其他可能的值，请参见 <a class="reference internal" href="#pixmapoutput"><span class="std std-ref">支持的输出图片格式</span></a>。</p></li>
<li><p><strong>jpg_quality</strong> (<em>int</em>) – 所需的图像质量，默认值为 95。仅适用于 JPEG 图像，其他格式将忽略此值。此参数在质量与文件大小之间进行权衡。值为 98 时接近无损。较高的值不应提高质量。</p></li>
<li><p><strong>output</strong> – 请求的图像格式。默认值为 “png”。有关其他可能的值，请参见 <a class="reference internal" href="#pixmapoutput"><span class="std std-ref">支持的输出图片格式</span></a>。</p></li>
</ul>
</dd>
<dt class="field-even">抛出<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – 对于不支持的图像格式。</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p>bytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.pdfocr_save">
<span class="sig-name descname"><span class="pre">pdfocr_save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'eng'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tessdata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.pdfocr_save" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 1.19.0 新增：</em></p>
<p><em>版本 1.22.5 更改：</em> 支持新的 Tesseract tessdata 参数。</p>
<p>使用 Tesseract 执行文本识别并将图像保存为带有 OCR 文本层的 1 页 PDF。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em><em>,</em><em>fp</em>) – 要保存的文件，可以是字符串或以 “wb” 模式打开的文件指针（包括 <code class="xref any docutils literal notranslate"><span class="pre">io.BytesIO()</span></code> 对象）。</p></li>
<li><p><strong>compress</strong> (<em>bool</em>) – 是否压缩生成的 PDF，默认值为 <code class="xref any docutils literal notranslate"><span class="pre">True</span></code>。</p></li>
<li><p><strong>language</strong> (<em>str</em>) – 图像中出现的语言。必须以 Tesseract 格式指定，默认值为 “eng”（英文）。对于多种语言，请使用 “+” 分隔的 Tesseract 语言代码，如 “eng+spa”（英语和西班牙语）。</p></li>
<li><p><strong>tessdata</strong> (<em>str</em>) – Tesseract 的语言支持文件夹名。如果省略，则此信息必须作为环境变量 <code class="xref any docutils literal notranslate"><span class="pre">TESSDATA_PREFIX</span></code> 提供。</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p><strong>如果未安装 Tesseract 或未设置环境变量 “TESSDATA_PREFIX” 指向 tessdata 文件夹，并且未作为参数提供，则会失败。</strong></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.pdfocr_tobytes">
<span class="sig-name descname"><span class="pre">pdfocr_tobytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'eng'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tessdata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.pdfocr_tobytes" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 1.19.0 新增：</em></p>
<p><em>版本 1.22.5 更改：</em> 支持新的 Tesseract tessdata 参数。</p>
<p>使用 Tesseract 执行文本识别，并将图像转换为带有 OCR 文本层的 1 页 PDF。内部调用 <a class="reference internal" href="#Pixmap.pdfocr_save" title="Pixmap.pdfocr_save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.pdfocr_save()</span></code></a>。</p>
<dl class="field-list simple">
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>内存中的 1 页 PDF 文件。可以像这样打开 <code class="xref any docutils literal notranslate"><span class="pre">doc=pymupdf.open(&quot;pdf&quot;,</span> <span class="pre">pix.pdfocr_tobytes())</span></code>，并可以在其 <code class="xref any docutils literal notranslate"><span class="pre">page=doc[0]</span></code> 上执行文本提取。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>另一个可能的用途是将其插入到某些 PDF 中。以下代码片段读取文件夹中的图像，并将其作为包含 OCR 文本层的页面存储在新 PDF 中:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">doc</span> <span class="o">=</span> <span class="n">pymupdf</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
<span class="k">for</span> <span class="n">imgfile</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">folder</span><span class="p">):</span>
   <span class="n">pix</span> <span class="o">=</span> <span class="n">pymupdf</span><span class="o">.</span><span class="n">Pixmap</span><span class="p">(</span><span class="n">imgfile</span><span class="p">)</span>
   <span class="n">imgpdf</span> <span class="o">=</span> <span class="n">pymupdf</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span> <span class="n">pix</span><span class="o">.</span><span class="n">pdfocr_tobytes</span><span class="p">())</span>
   <span class="n">doc</span><span class="o">.</span><span class="n">insert_pdf</span><span class="p">(</span><span class="n">imgpdf</span><span class="p">)</span>
   <span class="n">pix</span> <span class="o">=</span> <span class="kc">None</span>
   <span class="n">imgpdf</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="n">doc</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;ocr-images.pdf&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.pil_image">
<span class="sig-name descname"><span class="pre">pil_image</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.pil_image" title="永久链接至目标">#</a></dt>
<dd><p>从 pixmap 创建一个 Pillow 图像。必须安装 PIL / Pillow。</p>
<dl class="field-list simple">
<dt class="field-odd">抛出<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ImportError</strong> – 如果没有安装 Pillow。</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>一个 <code class="xref any docutils literal notranslate"><span class="pre">PIL.Image</span></code> 对象。</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.pil_save">
<span class="sig-name descname"><span class="pre">pil_save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unmultiply</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.pil_save" title="永久链接至目标">#</a></dt>
<dd><p>使用 Pillow 将 pixmap 写入图像文件。对于 MuPDF 不支持的输出格式，请使用此方法。例如：</p>
<ul class="simple">
<li><p>格式 JPX、J2K、WebP 等。</p></li>
<li><p>存储 EXIF 信息。</p></li>
<li><p>如果未提供 dpi 信息，将自动使用存储在 pixmap 中的 <em>xres</em>、<em>yres</em> 值。</p></li>
</ul>
<p>一个简单的示例：<code class="xref any docutils literal notranslate"><span class="pre">pix.pil_save(&quot;some.webp&quot;,</span> <span class="pre">optimize=True,</span> <span class="pre">dpi=(150,</span> <span class="pre">150))</span></code>。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>unmultiply</strong> (<em>bool</em>) – 如果 pixmap 的颜色空间是带透明度的 RGB，alpha 值可能已经或尚未与颜色组件（红/绿/蓝）相乘（称为“预乘”）。若要强制撤销预乘，请将此参数设置为 <code class="xref any docutils literal notranslate"><span class="pre">True</span></code>。要了解更多背景信息，请参考 “预乘 alpha” <a class="reference external" href="https://en.wikipedia.org/wiki/Glossary_of_computer_graphics#P">here</a>。</p>
</dd>
</dl>
<p>有关其他参数的详细信息，请参见 Pillow 文档。</p>
<p>自 v1.22.0 起，PyMuPDF 已直接支持 JPEG 输出。建议不再使用此方法进行 JPEG 输出，以提高性能并避免不必要的外部依赖。</p>
<dl class="field-list simple">
<dt class="field-odd">抛出<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ImportError</strong> – 如果没有安装 Pillow。</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.pil_tobytes">
<span class="sig-name descname"><span class="pre">pil_tobytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unmultiply</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.pil_tobytes" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 1.17.3 新增：</em></p>
<p>使用 Pillow 将图像作为指定格式的字节对象返回。例如：<code class="xref any docutils literal notranslate"><span class="pre">stream</span> <span class="pre">=</span> <span class="pre">pix.pil_tobytes(format=&quot;WEBP&quot;,</span> <span class="pre">optimize=True,</span> <span class="pre">dpi=(150,</span> <span class="pre">150))</span></code>。有关其他参数的详细信息，请参见 Pillow 文档。</p>
<dl class="field-list simple">
<dt class="field-odd">抛出<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ImportError</strong> – 如果没有安装 Pillow。</p>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p>bytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.warp">
<span class="sig-name descname"><span class="pre">warp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">quad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.warp" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 1.19.3 新增：</em></p>
<p>通过“变形”四边形返回一个新的 pixmap，使得四边形的角成为新 pixmap 的角。目标 pixmap 的 <a class="reference internal" href="irect.html"><span class="doc">IRect</span></a> 将是 <code class="xref any docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">width,</span> <span class="pre">height)</span></code>。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>quad</strong> (<em>quad_like</em>) – 一个包含在 <a class="reference internal" href="#Pixmap.irect" title="Pixmap.irect"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.irect</span></code></a> 内部（包括边界点）的凸四边形坐标。</p></li>
<li><p><strong>width</strong> (<em>int</em>) – 所需的结果宽度。</p></li>
<li><p><strong>height</strong> (<em>int</em>) – 所需的结果高度。</p></li>
</ul>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>一个新的 pixmap，其中四边形的角以顺时针方向映射到 pixmap 的角：<code class="xref any docutils literal notranslate"><span class="pre">quad.ul</span> <span class="pre">-&gt;</span> <span class="pre">irect.tl</span></code>，<code class="xref any docutils literal notranslate"><span class="pre">quad.ur</span> <span class="pre">-&gt;</span> <span class="pre">irect.tr</span></code>，依此类推。</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p><p><a class="reference internal" href="#pixmap"><span class="std std-ref">Pixmap</span></a></p>
<a class="reference internal" href="_images/img-warp.png"><img alt="_images/img-warp.png" class="align-center" src="_images/img-warp.png" style="width: 632.8000000000001px; height: 258.40000000000003px;" /></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.color_count">
<span class="sig-name descname"><span class="pre">color_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.color_count" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 1.19.2 新增：</em>
<em>版本 1.19.3 更改：</em></p>
<p>确定 pixmap 的唯一颜色及其计数。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>colors</strong> (<em>bool</em>) – <em>(版本 1.19.3 更改)</em> 如果为 <code class="xref any docutils literal notranslate"><span class="pre">True</span></code>，返回一个颜色像素及其使用计数的字典；否则，仅返回唯一颜色的数量。</p></li>
<li><p><strong>clip</strong> (<em>rect_like</em>) – 一个位于 <a class="reference internal" href="#Pixmap.irect" title="Pixmap.irect"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.irect</span></code></a> 内的矩形。如果提供，只有这些像素会被考虑。这允许直接检查给定 pixmap 的子矩形，而无需构建子 pixmap。</p></li>
</ul>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p>dict 或 int</p>
</dd>
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>颜色的数量，或者是一个包含 <code class="xref any docutils literal notranslate"><span class="pre">pixel:</span> <span class="pre">count</span></code> 项的字典。pixel 键是一个长度为 <a class="reference internal" href="#Pixmap.n" title="Pixmap.n"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.n</span></code></a> 的 <code class="xref any docutils literal notranslate"><span class="pre">bytes</span></code> 对象。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>要恢复像素的 <strong>元组</strong>，可以使用 <code class="xref any docutils literal notranslate"><span class="pre">tuple(colors.keys()[i])</span></code> 获取第 i 项。</p>
<ul class="simple">
<li><p>响应时间取决于 pixmap 的样本大小，对于非常大的 pixmap，可能会超过一秒。</p></li>
<li><p>在适用的情况下，具有不同 alpha 值的像素将被视为不同的颜色。</p></li>
</ul>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Pixmap.color_topusage">
<span class="sig-name descname"><span class="pre">color_topusage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Pixmap.color_topusage" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 1.19.3 新增：</em></p>
<p>返回最常用的颜色及其相对频率。</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>clip</strong> (<em>rect_like</em>) – 一个位于 <a class="reference internal" href="#Pixmap.irect" title="Pixmap.irect"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.irect</span></code></a> 内的矩形。如果提供，只有这些像素会被考虑。这允许直接检查给定 pixmap 的子矩形，而无需构建子 pixmap。</p>
</dd>
<dt class="field-even">返回类型<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple</p>
</dd>
<dt class="field-odd">返回<span class="colon">:</span></dt>
<dd class="field-odd"><p>一个元组 <code class="xref any docutils literal notranslate"><span class="pre">(ratio,</span> <span class="pre">pixel)</span></code>，其中 <code class="xref any docutils literal notranslate"><span class="pre">0</span> <span class="pre">&lt;</span> <span class="pre">ratio</span> <span class="pre">&lt;=</span> <span class="pre">1</span></code>，<em>pixel</em> 是颜色的像素值。使用此方法来判断图像是否“几乎”是单色：响应 <code class="xref any docutils literal notranslate"><span class="pre">(0.95,</span> <span class="pre">b&quot;x00x00x00&quot;)</span></code> 表示 95% 的像素是黑色。有关示例，请参见 <a class="reference internal" href="recipes-images.html#recipesimages-p"><span class="std std-ref">如何使用像素图：检查文本可见性</span></a>。</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.alpha">
<span class="sig-name descname"><span class="pre">alpha</span></span><a class="headerlink" href="#Pixmap.alpha" title="永久链接至目标">#</a></dt>
<dd><p>指示 pixmap 是否包含透明度信息。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.digest">
<span class="sig-name descname"><span class="pre">digest</span></span><a class="headerlink" href="#Pixmap.digest" title="永久链接至目标">#</a></dt>
<dd><p>pixmap 的 MD5 哈希值（16 字节）。这是一个用于唯一标识的技术值。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.colorspace">
<span class="sig-name descname"><span class="pre">colorspace</span></span><a class="headerlink" href="#Pixmap.colorspace" title="永久链接至目标">#</a></dt>
<dd><p>pixmap 的颜色空间。如果图像被视为所谓的 <em>图像遮罩</em> 或 <em>模板遮罩</em>，则该值可能为 <em>None</em> （当前仅在提取的 PDF 文档图像中发生）。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="colorspace.html#colorspace"><span class="std std-ref">Colorspace</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.stride">
<span class="sig-name descname"><span class="pre">stride</span></span><a class="headerlink" href="#Pixmap.stride" title="永久链接至目标">#</a></dt>
<dd><p>包含图像数据中每行的长度，即 <a class="reference internal" href="#Pixmap.samples" title="Pixmap.samples"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.samples</span></code></a> 的长度。这主要用于计算目的。以下表达式成立：</p>
<ul class="simple">
<li><p><code class="xref any docutils literal notranslate"><span class="pre">len(samples)</span> <span class="pre">==</span> <span class="pre">height</span> <span class="pre">*</span> <span class="pre">stride</span></code></p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">width</span> <span class="pre">*</span> <span class="pre">n</span> <span class="pre">==</span> <span class="pre">stride</span></code></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.is_monochrome">
<span class="sig-name descname"><span class="pre">is_monochrome</span></span><a class="headerlink" href="#Pixmap.is_monochrome" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 1.19.2 新增：</em></p>
<p>如果是灰度 pixmap 且仅包含黑色和白色，则为 <code class="xref any docutils literal notranslate"><span class="pre">True</span></code>。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.is_unicolor">
<span class="sig-name descname"><span class="pre">is_unicolor</span></span><a class="headerlink" href="#Pixmap.is_unicolor" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 1.19.2 新增：</em></p>
<p>如果所有像素都相同（任何颜色空间），则为 <code class="xref any docutils literal notranslate"><span class="pre">True</span></code>。在适用的情况下，具有不同 alpha 值的像素将被视为不同的颜色。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.irect">
<span class="sig-name descname"><span class="pre">irect</span></span><a class="headerlink" href="#Pixmap.irect" title="永久链接至目标">#</a></dt>
<dd><p>包含 pixmap 的 <a class="reference internal" href="irect.html#irect"><span class="std std-ref">IRect</span></a>。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="irect.html#irect"><span class="std std-ref">IRect</span></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.samples">
<span class="sig-name descname"><span class="pre">samples</span></span><a class="headerlink" href="#Pixmap.samples" title="永久链接至目标">#</a></dt>
<dd><p>所有像素的颜色和（如果 <a class="reference internal" href="#Pixmap.alpha" title="Pixmap.alpha"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.alpha</span></code></a> 为 true）透明度值。这是一个 <code class="xref any docutils literal notranslate"><span class="pre">width</span> <span class="pre">*</span> <span class="pre">height</span> <span class="pre">*</span> <span class="pre">n</span></code> 字节的区域。每 n 字节定义一个像素。每 n 字节依次表示一个像素，按扫描线顺序排列。后续扫描线紧接着排列，不进行填充。例如，对于 RGBA 颜色空间，<em>samples</em> 是一个字节序列，如 <em>…, R, G, B, A, …</em>，其中四个字节 R, G, B, A 定义一个像素。</p>
<p>该区域可以传递给其他图形库，如 PIL（Python Imaging Library），以进行额外处理，例如将 pixmap 保存为其他图像格式。</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<ul class="simple">
<li><p>底层数据通常是一个 <strong>大型</strong> 内存区域，每次访问时会为此属性创建 <code class="xref any docutils literal notranslate"><span class="pre">bytes</span></code> 副本：例如，一个 RGB 渲染的字母页面的 samples 大小接近 1.4 MB。因此，请考虑将其分配给新变量，或使用 <code class="xref any docutils literal notranslate"><span class="pre">memoryview</span></code> 版本 <a class="reference internal" href="#Pixmap.samples_mv" title="Pixmap.samples_mv"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.samples_mv</span></code></a> （v1.18.17 新增）。</p></li>
<li><p>对底层数据的任何更改仅在再次访问此属性时才可见。这与使用 memoryview 版本不同。</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.samples_mv">
<span class="sig-name descname"><span class="pre">samples_mv</span></span><a class="headerlink" href="#Pixmap.samples_mv" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 v1.18.17 新增：</em></p>
<p>类似于 <a class="reference internal" href="#Pixmap.samples" title="Pixmap.samples"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Pixmap.samples</span></code></a>，但为 Python <code class="xref any docutils literal notranslate"><span class="pre">memoryview</span></code> 格式。它直接指向 pixmap 中的内存，而不是其副本。因此，它的创建速度与 pixmap 的大小无关，并且对像素的任何更改会立即生效。</p>
<p>像 <code class="xref any docutils literal notranslate"><span class="pre">bytearray(pix.samples_mv)</span></code> 或 <code class="xref any docutils literal notranslate"><span class="pre">bytes(pixmap.samples_mv)</span></code> 这样的副本等效于并可替代 <code class="xref any docutils literal notranslate"><span class="pre">pix.samples</span></code>。</p>
<p>我们也可以看到 <code class="xref any docutils literal notranslate"><span class="pre">len(pix.samples)</span> <span class="pre">==</span> <span class="pre">len(pix.samples_mv)</span></code>。</p>
<p>以下是一个 2 MB JPEG 的示例：内存视图 <strong>快一万倍</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>In [3]: %timeit len(pix.samples_mv)
367 ns ± 1.75 ns per loop (mean ± std. dev. of 7 runs, 1000000 loops each)
In [4]: %timeit len(pix.samples)
3.52 ms ± 57.5 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)
</pre></div>
</div>
<p>在 Pixmap 被销毁后，任何尝试使用内存视图的操作都会因为 <code class="xref any docutils literal notranslate"><span class="pre">ValueError</span></code> 失败。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>memoryview</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.samples_ptr">
<span class="sig-name descname"><span class="pre">samples_ptr</span></span><a class="headerlink" href="#Pixmap.samples_ptr" title="永久链接至目标">#</a></dt>
<dd><p><em>版本 v1.18.17 新增：</em></p>
<p>指向像素区域的 Python 指针。这是一种特殊的整数格式，可以被支持的应用程序（如 PyQt）用来直接访问样本区域，从而极大加速图像的构建。例如:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">img</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QImage</span><span class="p">(</span><span class="n">pix</span><span class="o">.</span><span class="n">samples</span><span class="p">,</span> <span class="n">pix</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">pix</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="nb">format</span><span class="p">)</span> <span class="c1"># (1)</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QImage</span><span class="p">(</span><span class="n">pix</span><span class="o">.</span><span class="n">samples_ptr</span><span class="p">,</span> <span class="n">pix</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">pix</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="nb">format</span><span class="p">)</span> <span class="c1"># (2)</span>
</pre></div>
</div>
<p>上述两种方法得到的 Qt 图像相同，但 (2) 可以 <strong>快上几百倍</strong>，因为它避免了对像素区域的额外拷贝。</p>
<p>警告：在 Pixmap 被销毁后，Python 指针将失效，尝试使用它可能会导致 Python 解释器崩溃。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.size">
<span class="sig-name descname"><span class="pre">size</span></span><a class="headerlink" href="#Pixmap.size" title="永久链接至目标">#</a></dt>
<dd><p>包含 <em>len(pixmap)</em>。这通常等于 <em>len(pix.samples)</em> 加上一些平台特定的值，用于定义对象的其他属性。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.width">
<span class="sig-name descname"><span class="pre">width</span></span><a class="headerlink" href="#Pixmap.width" title="永久链接至目标">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.w">
<span class="sig-name descname"><span class="pre">w</span></span><a class="headerlink" href="#Pixmap.w" title="永久链接至目标">#</a></dt>
<dd><p>区域的宽度（以像素为单位）。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.height">
<span class="sig-name descname"><span class="pre">height</span></span><a class="headerlink" href="#Pixmap.height" title="永久链接至目标">#</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.h">
<span class="sig-name descname"><span class="pre">h</span></span><a class="headerlink" href="#Pixmap.h" title="永久链接至目标">#</a></dt>
<dd><p>区域的高度（以像素为单位）。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.x">
<span class="sig-name descname"><span class="pre">x</span></span><a class="headerlink" href="#Pixmap.x" title="永久链接至目标">#</a></dt>
<dd><p>左上角的 X 坐标（以像素为单位）。不能直接更改 – 使用 <a class="reference internal" href="#Pixmap.set_origin" title="Pixmap.set_origin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.set_origin()</span></code></a>。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.y">
<span class="sig-name descname"><span class="pre">y</span></span><a class="headerlink" href="#Pixmap.y" title="永久链接至目标">#</a></dt>
<dd><p>左上角的 Y 坐标（以像素为单位）。不能直接更改 – 使用 <a class="reference internal" href="#Pixmap.set_origin" title="Pixmap.set_origin"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.set_origin()</span></code></a>。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.n">
<span class="sig-name descname"><span class="pre">n</span></span><a class="headerlink" href="#Pixmap.n" title="永久链接至目标">#</a></dt>
<dd><p>每个像素的组件数量。这个数值取决于颜色空间和 alpha。如果颜色空间不是 <em>None</em> （例如模板遮罩），那么 <em>Pixmap.n - Pixmap.alpha == pixmap.colorspace.n</em> 为真。如果颜色空间是 <em>None</em>，则 <em>n == alpha == 1</em>。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.xres">
<span class="sig-name descname"><span class="pre">xres</span></span><a class="headerlink" href="#Pixmap.xres" title="永久链接至目标">#</a></dt>
<dd><p>水平分辨率（每英寸点数 dpi）。请参阅 <a class="reference internal" href="glossary.html#resolution" title="resolution"><code class="xref py py-data docutils literal notranslate"><span class="pre">resolution</span></code></a>。不能直接更改 – 使用 <a class="reference internal" href="#Pixmap.set_dpi" title="Pixmap.set_dpi"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.set_dpi()</span></code></a>。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.yres">
<span class="sig-name descname"><span class="pre">yres</span></span><a class="headerlink" href="#Pixmap.yres" title="永久链接至目标">#</a></dt>
<dd><p>垂直分辨率（每英寸点数 dpi）。请参阅 <a class="reference internal" href="glossary.html#resolution" title="resolution"><code class="xref py py-data docutils literal notranslate"><span class="pre">resolution</span></code></a>。不能直接更改 – 使用 <a class="reference internal" href="#Pixmap.set_dpi" title="Pixmap.set_dpi"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.set_dpi()</span></code></a>。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="Pixmap.interpolate">
<span class="sig-name descname"><span class="pre">interpolate</span></span><a class="headerlink" href="#Pixmap.interpolate" title="永久链接至目标">#</a></dt>
<dd><p>仅为信息提供的布尔标志。如果图像将使用“线性插值”进行绘制，则设置为 <em>True</em>；如果使用“最近邻采样”则为 <em>False</em>。</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<input class="tab-input" id="tab-set--1-input--2" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--2">英文</label><div class="tab-content docutils container">
</div>
</div>
<section id="imagefiles">
<span id="id10"></span><h2>支持的输入图片格式<a class="headerlink" href="#imagefiles" title="此标题的永久链接">#</a></h2>
<p>Supported Input Image Formats</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--2-input--1" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--1">中文</label><div class="tab-content docutils container">
<p>以下文件类型被支持作为 <strong>输入</strong> 来构建 pixmaps: <strong>BMP, JPEG, GIF, TIFF, JXR, JPX</strong>, <strong>PNG</strong>, <strong>PAM</strong> 和所有 <strong>Portable Anymap</strong> 系列（<strong>PBM, PGM, PNM, PPM</strong>）。这种支持是双重的：</p>
<ol class="arabic simple">
<li><p>通过 <em>Pixmap(filename)</em> 或 <em>Pixmap(byterray)</em> 直接创建一个 pixmap。该 pixmap 将具有由图像决定的属性。</p></li>
<li><p>使用 <em>pymupdf.open(…)</em> 打开这些文件。结果将显示为一个包含单个页面的文档。为该页面创建一个 pixmap 将提供在此上下文中可用的所有选项：应用矩阵、选择颜色空间和 alpha、将 pixmap 限制为剪切区域等。</p></li>
</ol>
<p><strong>SVG 图像</strong> 仅通过上述第 2 种方法支持，而不能直接作为 pixmaps。但请记住：结果是一个 <strong>光栅图像</strong>，正如所有 pixmap 一样 <a class="footnote-reference brackets" href="#f3" id="id11" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>。</p>
</div>
<input class="tab-input" id="tab-set--2-input--2" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--2">英文</label><div class="tab-content docutils container">
<p>The following file types are supported as <strong>input</strong> to construct pixmaps: <strong>BMP, JPEG, GIF, TIFF, JXR, JPX</strong>, <strong>PNG</strong>, <strong>PAM</strong> and all of the <strong>Portable Anymap</strong> family (<strong>PBM, PGM, PNM, PPM</strong>). This support is two-fold:</p>
<ol class="arabic simple">
<li><p>Directly create a pixmap with <em>Pixmap(filename)</em> or <em>Pixmap(byterray)</em>. The pixmap will then have properties as determined by the image.</p></li>
<li><p>Open such files with <em>pymupdf.open(…)</em>. The result will then appear as a document containing one single page. Creating a pixmap of this page offers all the options available in this context: apply a matrix, choose colorspace and alpha, confine the pixmap to a clip area, etc.</p></li>
</ol>
<p><strong>SVG images</strong> are only supported via method 2 above, not directly as pixmaps. But remember: the result of this is a <strong>raster image</strong> as is always the case with pixmaps <a class="footnote-reference brackets" href="#f1" id="id12" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
</div>
</div>
</section>
<section id="pixmapoutput">
<span id="id13"></span><h2>支持的输出图片格式<a class="headerlink" href="#pixmapoutput" title="此标题的永久链接">#</a></h2>
<p>Supported Output Image Formats</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--3-input--1" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--1">中文</label><div class="tab-content docutils container">
<p>支持多种图像 <strong>输出</strong> 格式。您可以选择直接将图像写入文件（<a class="reference internal" href="#Pixmap.save" title="Pixmap.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.save()</span></code></a>），或者生成一个字节对象（<a class="reference internal" href="#Pixmap.tobytes" title="Pixmap.tobytes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.tobytes()</span></code></a>）。这两种方法都接受一个字符串来标识所需的格式（下表中的 <strong>Format</strong> 列）。请注意，并非所有组合的 pixmap 颜色空间、透明度支持（alpha）和图像格式都是可能的。</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>格式</strong></p></th>
<th class="head"><p><strong>颜色空间</strong></p></th>
<th class="head"><p><strong>透明度</strong></p></th>
<th class="head"><p><strong>扩展名</strong></p></th>
<th class="head"><p><strong>描述</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>jpg, jpeg</p></td>
<td><p>gray, rgb, cmyk</p></td>
<td><p>no</p></td>
<td><p>.jpg, .jpeg</p></td>
<td><p>联合图像专家组</p></td>
</tr>
<tr class="row-odd"><td><p>pam</p></td>
<td><p>gray, rgb, cmyk</p></td>
<td><p>yes</p></td>
<td><p>.pam</p></td>
<td><p>可移植任意映射</p></td>
</tr>
<tr class="row-even"><td><p>pbm</p></td>
<td><p>gray, rgb</p></td>
<td><p>no</p></td>
<td><p>.pbm</p></td>
<td><p>可移植位图</p></td>
</tr>
<tr class="row-odd"><td><p>pgm</p></td>
<td><p>gray, rgb</p></td>
<td><p>no</p></td>
<td><p>.pgm</p></td>
<td><p>可移植灰度图</p></td>
</tr>
<tr class="row-even"><td><p>png</p></td>
<td><p>gray, rgb</p></td>
<td><p>yes</p></td>
<td><p>.png</p></td>
<td><p>可移植网络图形</p></td>
</tr>
<tr class="row-odd"><td><p>pnm</p></td>
<td><p>gray, rgb</p></td>
<td><p>no</p></td>
<td><p>.pnm</p></td>
<td><p>可移植任意图形</p></td>
</tr>
<tr class="row-even"><td><p>ppm</p></td>
<td><p>gray, rgb</p></td>
<td><p>no</p></td>
<td><p>.ppm</p></td>
<td><p>可移植像素图</p></td>
</tr>
<tr class="row-odd"><td><p>ps</p></td>
<td><p>gray, rgb, cmyk</p></td>
<td><p>no</p></td>
<td><p>.ps</p></td>
<td><p>Adobe PostScript 图像</p></td>
</tr>
<tr class="row-even"><td><p>psd</p></td>
<td><p>gray, rgb, cmyk</p></td>
<td><p>yes</p></td>
<td><p>.psd</p></td>
<td><p>Adobe Photoshop 文档</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<ul class="simple">
<li><p>并非所有图像文件类型在所有操作系统平台上都受到支持（或至少常见）。例如 PAM 和可移植任意映射格式在 Windows 上较为罕见或甚至未知。</p></li>
<li><p>特别是在涉及 CMYK 颜色空间时，您可以通过 <em>rgb_pix = pymupdf.Pixmap(pymupdf.csRGB, cmyk_pix)</em> 将 CMYK pixmap 转换为 RGB pixmap，然后以所需格式保存。</p></li>
<li><p>如上所示，MuPDF 的图像支持范围在输入和输出方面有所不同。在两者都支持的格式中，PNG 和 JPEG 可能是最常见的。</p></li>
<li><p>我们还推荐将 “ppm” 格式用于 tkinter 的 <em>PhotoImage</em> 方法，像这样： <em>tkimg = tkinter.PhotoImage(data=pix.tobytes(“ppm”))</em> （请参见教程）。这 <strong>非常</strong> 快（比 PNG 快 <strong>60 倍</strong>）。</p></li>
</ul>
</div>
</div>
<input class="tab-input" id="tab-set--3-input--2" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--2">英文</label><div class="tab-content docutils container">
<p>A number of image <strong>output</strong> formats are supported. You have the option to either write an image directly to a file (<a class="reference internal" href="#Pixmap.save" title="Pixmap.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.save()</span></code></a>), or to generate a bytes object (<a class="reference internal" href="#Pixmap.tobytes" title="Pixmap.tobytes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Pixmap.tobytes()</span></code></a>). Both methods accept a string identifying the desired format (<strong>Format</strong> column below). Please note that not all combinations of pixmap colorspace, transparency support (alpha) and image format are possible.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Format</strong></p></th>
<th class="head"><p><strong>Colorspaces</strong></p></th>
<th class="head"><p><strong>alpha</strong></p></th>
<th class="head"><p><strong>Extensions</strong></p></th>
<th class="head"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>jpg, jpeg</p></td>
<td><p>gray, rgb, cmyk</p></td>
<td><p>no</p></td>
<td><p>.jpg, .jpeg</p></td>
<td><p>Joint Photographic Experts Group</p></td>
</tr>
<tr class="row-odd"><td><p>pam</p></td>
<td><p>gray, rgb, cmyk</p></td>
<td><p>yes</p></td>
<td><p>.pam</p></td>
<td><p>Portable Arbitrary Map</p></td>
</tr>
<tr class="row-even"><td><p>pbm</p></td>
<td><p>gray, rgb</p></td>
<td><p>no</p></td>
<td><p>.pbm</p></td>
<td><p>Portable Bitmap</p></td>
</tr>
<tr class="row-odd"><td><p>pgm</p></td>
<td><p>gray, rgb</p></td>
<td><p>no</p></td>
<td><p>.pgm</p></td>
<td><p>Portable Graymap</p></td>
</tr>
<tr class="row-even"><td><p>png</p></td>
<td><p>gray, rgb</p></td>
<td><p>yes</p></td>
<td><p>.png</p></td>
<td><p>Portable Network Graphics</p></td>
</tr>
<tr class="row-odd"><td><p>pnm</p></td>
<td><p>gray, rgb</p></td>
<td><p>no</p></td>
<td><p>.pnm</p></td>
<td><p>Portable Anymap</p></td>
</tr>
<tr class="row-even"><td><p>ppm</p></td>
<td><p>gray, rgb</p></td>
<td><p>no</p></td>
<td><p>.ppm</p></td>
<td><p>Portable Pixmap</p></td>
</tr>
<tr class="row-odd"><td><p>ps</p></td>
<td><p>gray, rgb, cmyk</p></td>
<td><p>no</p></td>
<td><p>.ps</p></td>
<td><p>Adobe PostScript Image</p></td>
</tr>
<tr class="row-even"><td><p>psd</p></td>
<td><p>gray, rgb, cmyk</p></td>
<td><p>yes</p></td>
<td><p>.psd</p></td>
<td><p>Adobe Photoshop Document</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition note">
<p class="admonition-title">备注</p>
<ul class="simple">
<li><p>Not all image file types are supported (or at least common) on all OS platforms. E.g. PAM and the Portable Anymap formats are rare or even unknown on Windows.</p></li>
<li><p>Especially pertaining to CMYK colorspaces, you can always convert a CMYK pixmap to an RGB pixmap with <em>rgb_pix = pymupdf.Pixmap(pymupdf.csRGB, cmyk_pix)</em> and then save that in the desired format.</p></li>
<li><p>As can be seen, MuPDF’s image support range is different for input and output. Among those supported both ways, PNG and JPEG are probably the most popular.</p></li>
<li><p>We also recommend using “ppm” formats as input to tkinter’s <em>PhotoImage</em> method like this: <em>tkimg = tkinter.PhotoImage(data=pix.tobytes(“ppm”))</em> (also see the tutorial). This is <strong>very</strong> fast (<strong>60 times</strong> faster than PNG).</p></li>
</ul>
</div>
</div>
</div>
<p class="rubric">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="f1" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id12">1</a><span class="fn-bracket">]</span></span>
<p>If you need a <strong>vector image</strong> from the SVG, you must first convert it to a PDF. Try <a class="reference internal" href="document.html#Document.convert_to_pdf" title="Document.convert_to_pdf"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Document.convert_to_pdf()</span></code></a>. If this is not good enough, look for other SVG-to-PDF conversion tools like the Python packages <a class="reference external" href="https://pypi.org/project/svglib">svglib</a>, <a class="reference external" href="https://pypi.org/project/cairosvg">CairoSVG</a>, <a class="reference external" href="https://sk1project.net/modules.php?name=Products&amp;product=uniconvertor&amp;op=download">Uniconvertor</a> or the Java solution <a class="reference external" href="https://github.com/apache/batik">Apache Batik</a>. Have a look at our Wiki for more examples.</p>
</aside>
<aside class="footnote brackets" id="f2" role="note">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<p>To also set the alpha property, add an additional step to this method by dropping or adding an alpha channel to the result.</p>
</aside>
<aside class="footnote brackets" id="f3" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id11">3</a><span class="fn-bracket">]</span></span>
<p>如果需要从 SVG 获取 <strong>矢量图像</strong>，必须首先将其转换为 PDF。尝试使用 <a class="reference internal" href="document.html#Document.convert_to_pdf" title="Document.convert_to_pdf"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Document.convert_to_pdf()</span></code></a>。如果这还不够好，可以寻找其他 SVG 到 PDF 的转换工具，如 Python 包 <a class="reference external" href="https://pypi.org/project/svglib">svglib</a>、<a class="reference external" href="https://pypi.org/project/cairosvg">CairoSVG</a>、<a class="reference external" href="https://sk1project.net/modules.php?name=Products&amp;product=uniconvertor&amp;op=download">Uniconvertor</a> 或 Java 解决方案 <a class="reference external" href="https://github.com/apache/batik">Apache Batik</a>。可以查看我们的 Wiki 获取更多示例。</p>
</aside>
<aside class="footnote brackets" id="f4" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id9">4</a><span class="fn-bracket">]</span></span>
<p>要设置 alpha 属性，请在此方法中添加额外的步骤，通过删除或添加 alpha 通道来处理结果。</p>
</aside>
</aside>
<div class="feedbackLink"><a id="feedbackLinkBottom" target=_blank>您对此页面有任何反馈吗？</b></a></div><hr class="docutils" />
<script>

   var url_string = window.location.href;
   var a = document.getElementById('feedbackLinkBottom');
   a.setAttribute("href", "https://artifex.com/contributor/feedback.php?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link&url="+url_string);

</script>

<p style="color:#999" id="footerDisclaimer">本软件按原样提供，不作任何明示或暗示担保。本软件根据许可分发，除非根据该许可条款明确授权，否则不得复制、修改或分发。请参阅 <a href="https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link">artifex.com</a> 上的许可信息，或联系 Artifex Software Inc., 39 Mesa Street, Suite 108A, San Francisco CA 94129, United States 了解更多信息。</p>



<script>

   let docLanguage = document.getElementsByTagName('html')[0].getAttribute('lang');

   function getHeaderAndFooterTranslation(str) {
       if (docLanguage == "ja") {
           if (str == "Do you have any feedback on this page?") {
               return "このページに関するご意見はありますか？";
           } else if (str == "Find <b>#pymupdf</b> on <b>Discord</b>") {
               return "<b>Discord</b>の <b>#pymupdf</b> を見つける";
           } else if (str == "This software is provided AS-IS with no warranty, either express or implied. This software is distributed under license and may not be copied, modified or distributed except as expressly authorized under the terms of that license. Refer to licensing information at <a href='https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link'>artifex.com</a> or contact Artifex Software Inc., 39 Mesa Street, Suite 108A, San Francisco CA 94129, United States for further information.") {

               return "このソフトウェアは無保証で提供されており、明示または黙示を問わず、いかなる保証もありません。このソフトウェアはライセンスの下で配布され、ライセンスの条件に明示的に許可されている場合を除き、コピー、変更、または配布してはなりません。ライセンシング情報については、<a href='https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link'>artifex.com</a>でライセンス情報を参照するか、アメリカ合衆国カリフォルニア州サンフランシスコのArtifex Software Inc. までお問い合わせください。"

           }
       }

       return str;
   }

   document.getElementById("findOnDiscord").innerHTML = getHeaderAndFooterTranslation("Find <b>#pymupdf</b> on <b>Discord</b>");
   document.getElementById("feedbackLinkTop").innerHTML = getHeaderAndFooterTranslation("Do you have any feedback on this page?");
   document.getElementById("feedbackLinkBottom").innerHTML = getHeaderAndFooterTranslation("Do you have any feedback on this page?");
   document.getElementById("footerDisclaimer").innerHTML = getHeaderAndFooterTranslation("This software is provided AS-IS with no warranty, either express or implied. This software is distributed under license and may not be copied, modified or distributed except as expressly authorized under the terms of that license. Refer to licensing information at <a href='https://www.artifex.com?utm_source=rtd-pymupdf&utm_medium=rtd&utm_content=footer-link'>artifex.com</a> or contact Artifex Software Inc., 39 Mesa Street, Suite 108A, San Francisco CA 94129, United States for further information.");


   // more translation for admonition-title as the in-built translation isn't great, needs: 注釈 -> 注
   if (docLanguage == "ja") {
       const collection = document.getElementsByClassName("admonition-title");
       for (var i=0;i<collection.length;i++) {
           collection[i].innerHTML = "注";
       }
   }


</script><p class="footer-version">This documentation covers all versions up to 1.25.4.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="point.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Point</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="page.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Page</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2015-2025, Artifex
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on 19. 3月 2025</div>
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Pixmap</a><ul>
<li><a class="reference internal" href="#Pixmap"><code class="docutils literal notranslate"><span class="pre">Pixmap</span></code></a><ul>
<li><a class="reference internal" href="#Pixmap.__init__"><code class="docutils literal notranslate"><span class="pre">Pixmap.__init__()</span></code></a></li>
<li><a class="reference internal" href="#id0"><code class="docutils literal notranslate"><span class="pre">Pixmap.__init__()</span></code></a></li>
<li><a class="reference internal" href="#id2"><code class="docutils literal notranslate"><span class="pre">Pixmap.__init__()</span></code></a></li>
<li><a class="reference internal" href="#id3"><code class="docutils literal notranslate"><span class="pre">Pixmap.__init__()</span></code></a></li>
<li><a class="reference internal" href="#id4"><code class="docutils literal notranslate"><span class="pre">Pixmap.__init__()</span></code></a></li>
<li><a class="reference internal" href="#id5"><code class="docutils literal notranslate"><span class="pre">Pixmap.__init__()</span></code></a></li>
<li><a class="reference internal" href="#id6"><code class="docutils literal notranslate"><span class="pre">Pixmap.__init__()</span></code></a></li>
<li><a class="reference internal" href="#id7"><code class="docutils literal notranslate"><span class="pre">Pixmap.__init__()</span></code></a></li>
<li><a class="reference internal" href="#id8"><code class="docutils literal notranslate"><span class="pre">Pixmap.__init__()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.clear_with"><code class="docutils literal notranslate"><span class="pre">Pixmap.clear_with()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.tint_with"><code class="docutils literal notranslate"><span class="pre">Pixmap.tint_with()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.gamma_with"><code class="docutils literal notranslate"><span class="pre">Pixmap.gamma_with()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.shrink"><code class="docutils literal notranslate"><span class="pre">Pixmap.shrink()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.pixel"><code class="docutils literal notranslate"><span class="pre">Pixmap.pixel()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.set_pixel"><code class="docutils literal notranslate"><span class="pre">Pixmap.set_pixel()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.set_rect"><code class="docutils literal notranslate"><span class="pre">Pixmap.set_rect()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.set_origin"><code class="docutils literal notranslate"><span class="pre">Pixmap.set_origin()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.set_dpi"><code class="docutils literal notranslate"><span class="pre">Pixmap.set_dpi()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.set_alpha"><code class="docutils literal notranslate"><span class="pre">Pixmap.set_alpha()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.invert_irect"><code class="docutils literal notranslate"><span class="pre">Pixmap.invert_irect()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.copy"><code class="docutils literal notranslate"><span class="pre">Pixmap.copy()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.save"><code class="docutils literal notranslate"><span class="pre">Pixmap.save()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.tobytes"><code class="docutils literal notranslate"><span class="pre">Pixmap.tobytes()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.pdfocr_save"><code class="docutils literal notranslate"><span class="pre">Pixmap.pdfocr_save()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.pdfocr_tobytes"><code class="docutils literal notranslate"><span class="pre">Pixmap.pdfocr_tobytes()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.pil_image"><code class="docutils literal notranslate"><span class="pre">Pixmap.pil_image()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.pil_save"><code class="docutils literal notranslate"><span class="pre">Pixmap.pil_save()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.pil_tobytes"><code class="docutils literal notranslate"><span class="pre">Pixmap.pil_tobytes()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.warp"><code class="docutils literal notranslate"><span class="pre">Pixmap.warp()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.color_count"><code class="docutils literal notranslate"><span class="pre">Pixmap.color_count()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.color_topusage"><code class="docutils literal notranslate"><span class="pre">Pixmap.color_topusage()</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.alpha"><code class="docutils literal notranslate"><span class="pre">Pixmap.alpha</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.digest"><code class="docutils literal notranslate"><span class="pre">Pixmap.digest</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.colorspace"><code class="docutils literal notranslate"><span class="pre">Pixmap.colorspace</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.stride"><code class="docutils literal notranslate"><span class="pre">Pixmap.stride</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.is_monochrome"><code class="docutils literal notranslate"><span class="pre">Pixmap.is_monochrome</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.is_unicolor"><code class="docutils literal notranslate"><span class="pre">Pixmap.is_unicolor</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.irect"><code class="docutils literal notranslate"><span class="pre">Pixmap.irect</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.samples"><code class="docutils literal notranslate"><span class="pre">Pixmap.samples</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.samples_mv"><code class="docutils literal notranslate"><span class="pre">Pixmap.samples_mv</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.samples_ptr"><code class="docutils literal notranslate"><span class="pre">Pixmap.samples_ptr</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.size"><code class="docutils literal notranslate"><span class="pre">Pixmap.size</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.width"><code class="docutils literal notranslate"><span class="pre">Pixmap.width</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.w"><code class="docutils literal notranslate"><span class="pre">Pixmap.w</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.height"><code class="docutils literal notranslate"><span class="pre">Pixmap.height</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.h"><code class="docutils literal notranslate"><span class="pre">Pixmap.h</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.x"><code class="docutils literal notranslate"><span class="pre">Pixmap.x</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.y"><code class="docutils literal notranslate"><span class="pre">Pixmap.y</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.n"><code class="docutils literal notranslate"><span class="pre">Pixmap.n</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.xres"><code class="docutils literal notranslate"><span class="pre">Pixmap.xres</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.yres"><code class="docutils literal notranslate"><span class="pre">Pixmap.yres</span></code></a></li>
<li><a class="reference internal" href="#Pixmap.interpolate"><code class="docutils literal notranslate"><span class="pre">Pixmap.interpolate</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#imagefiles">支持的输入图片格式</a></li>
<li><a class="reference internal" href="#pixmapoutput">支持的输出图片格式</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/tabs.js"></script>
    <script src="_static/translations.js"></script>
    </body>
</html>